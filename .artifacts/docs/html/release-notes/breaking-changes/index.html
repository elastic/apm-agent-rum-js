<!DOCTYPE html>
<html lang="en" class="h-screen" xmlns="http://www.w3.org/1999/html">
<head hx-head="merge">
		<meta charset="utf-8">
	<title>Elastic APM Real User Monitoring JavaScript Agent breaking changes | APM RUM JavaScript agent</title>
	<meta name="description" content="Before you upgrade, carefully review the Elastic APM Real User Monitoring JavaScript Agent breaking changes and take the necessary steps to mitigate any...">
		<link rel="preload" href="/_static/InterVariable.e6ec8b96.woff2" as="font" type="font/woff2" crossorigin>
		<link rel="preload" href="/_static/MierB-Regular.efa24115.woff2" as="font" type="font/woff2" crossorigin>
		<link rel="preload" href="/_static/MierB-Bold.01af95ca.woff2" as="font" type="font/woff2" crossorigin>
		<link rel="preload" href="/_static/MierB-Demi.845945e0.woff2" as="font" type="font/woff2" crossorigin>
	<link rel="stylesheet preload" as="style" type="text/css" href="/_static/styles.css?v=4eec718956f93254" crossorigin/>
	<script src="/_static/custom-elements.js?v=4f585028e4b5ca00" defer></script>
	<script src="/_static/main.js?v=373d0d2da5378b96" defer></script>
		<link rel="canonical" href="https://docs-v3-preview.elastic.dev/release-notes/breaking-changes" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="apple-touch-icon" sizes="57x57" href="https://elastic.co/apple-icon-57x57.png"/>
<link rel="apple-touch-icon" sizes="60x60" href="https://elastic.co/apple-icon-60x60.png"/>
<link rel="apple-touch-icon" sizes="72x72" href="https://elastic.co/apple-icon-72x72.png"/>
<link rel="apple-touch-icon" sizes="76x76" href="https://elastic.co/apple-icon-76x76.png"/>
<link rel="apple-touch-icon" sizes="114x114" href="https://elastic.co/apple-icon-114x114.png"/>
<link rel="apple-touch-icon" sizes="120x120" href="https://elastic.co/apple-icon-120x120.png"/>
<link rel="apple-touch-icon" sizes="144x144" href="https://elastic.co/apple-icon-144x144.png"/>
<link rel="apple-touch-icon" sizes="152x152" href="https://elastic.co/apple-icon-152x152.png"/>
<link rel="apple-touch-icon" sizes="180x180" href="https://elastic.co/apple-icon-180x180.png"/>
<link rel="apple-touch-icon" sizes="192x192" href="https://elastic.co/apple-icon-192x192.png"/>
<link rel="icon" type="image/png" href="https://elastic.co/favicon-32x32.png" sizes="32x32"/>
<link rel="shortcut icon" href="https://elastic.co/favicon.ico" type="image/x-icon"/>
<link rel="icon" href="https://elastic.co/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon-precomposed" sizes="64x64" href="https://elastic.co/favicon_64x64_16bit.png"/>
<link rel="apple-touch-icon-precomposed" sizes="32x32" href="https://elastic.co/favicon_32x32.png"/>
<link rel="apple-touch-icon-precomposed" sizes="16x16" href="https://elastic.co/favicon_16x16.png"/>
<link rel="icon" type="image/png" href="https://elastic.co/android-chrome-192x192.png" sizes="192x192"/>
<link rel="icon" type="image/png" href="https://elastic.co/favicon-96x96.png" sizes="96x96"/>
<link rel="icon" type="image/png" href="https://elastic.co/favicon-16x16.png" sizes="16x16"/>
<link rel="icon" type="image/png" href="https://elastic.co/favicon-48x48.png" sizes="48x48"/>

	<meta name="robots" content="noindex, nofollow">
	<meta name="htmx-config" content='{"selfRequestsOnly": true}'>
	<meta property="og:type" content="website"/>
	<meta property="og:title" content="Elastic APM Real User Monitoring JavaScript Agent breaking changes | APM RUM JavaScript agent"/>
	<meta property="og:description" content="Before you upgrade, carefully review the Elastic APM Real User Monitoring JavaScript Agent breaking changes and take the necessary steps to mitigate any..."/>
	<meta property="og:image" content="https://www.elastic.co/static-res/images/social_media_default.png"/>
	<meta property="og:image:alt" content="Elastic | The Search AI Company"/>
		<meta property="og:url" content="https://docs-v3-preview.elastic.dev/release-notes/breaking-changes" />
	<meta property="docs:feature:lazy-load-navigation" content="False" />

				<meta class="elastic" name="product_version" content="9.0+"/>
			<meta name="DC.identifier" content="9.0+"/>
			<link rel="alternate" type="text/markdown" href="/release-notes/breaking-changes.md" title="Markdown export"/>
			<meta class="elastic" name="product_name" content="Elastic Observability,APM,APM Agent"/>
			<meta name="DC.subject" content="Elastic Observability,APM,APM Agent"/>

</head>

<body
	class="group/body text-ink has-[#primary-nav-hamburger:checked]:overflow-hidden"
	hx-ext="preload, head-support"
	data-docs-builder-version="32D9FBCF"
	data-root-path="/"
	hx-boost="true" hx-swap="none" hx-push-url="true" hx-indicator="#htmx-indicator"
	>
	<header class="sticky top-0 z-50 bg-blue-developer text-white h-(--offset-top) flex items-center">
		<div class="max-w-(--max-layout-width) w-full mx-auto flex justify-between items-center">
			<label role="button" class="md:hidden cursor-pointer" for="pages-nav-hamburger">
				<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-8">
					<path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"/>
				</svg>
			</label>
			<a href="/" class="flex items-center gap-2 text-lg font-semibold px-4">
				<img src="/_static/logo-elastic-glyph-color.svg?v=f602ddacafcf3057" alt="" width="32" height="32">
				apm-agent-rum-js
			</a>
			<search-or-ask-ai></search-or-ask-ai>
		</div>
	</header>

<div id="main-container" class="flex flex-col items-center border-t-1 border-grey-20">
	
		<div class="max-w-(--max-layout-width) w-full h-full grid
					grid-cols-1
					md:grid-cols-[var(--max-sidebar-width)_1fr]
				">
			<aside class="sidebar bg-white fixed md:sticky shadow-2xl md:shadow-none left-[100%] group-has-[#pages-nav-hamburger:checked]/body:left-0 bottom-0 md:left-auto pl-6 md:pl-2 top-[calc(var(--offset-top)+1px)] w-[80%] md:w-auto shrink-0 border-r-1 border-r-grey-20 z-40 md:z-auto">
	
	<nav
		id="pages-nav"
		class="sidebar-nav h-full">
		
<div class="pb-20 font-body" id="nav-tree">
		<a
			href="/reference/"
			 hx-select-oob=#content-container,#toc-nav preload=mousedown
			class="inline-block mx-4 mt-6 font-semibold text-ink hover:text-black">
			APM RUM JavaScript agent
		</a>

		<ul class="block px-4">
					<li class="flex flex-wrap group-navigation mt-6">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/reference/"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center font-semibold">
					APM RUM JavaScript agent
				</a>
					<label for="02CDD01C" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="02CDD01C"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex flex-wrap group-navigation mt-4">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/reference/set-up-apm-real-user-monitoring-javascript-agent"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center ">
					Set up the APM Real User Monitoring JavaScript Agent
				</a>
					<label for="7622CB06" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="7622CB06"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/install-agent"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Install the Agent
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/configuring-cors"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Configure CORS
			</a>
		</li>
				</ul>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/supported-technologies"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Supported technologies
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/configuration"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Configuration
			</a>
		</li>
		<li class="flex flex-wrap group-navigation mt-4">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/reference/api-reference"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center ">
					API reference
				</a>
					<label for="DDED4E09" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="DDED4E09"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/agent-api"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Agent API
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/transaction-api"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Transaction API
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/span-api"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Span API
			</a>
		</li>
				</ul>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/source-maps"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Source maps
			</a>
		</li>
		<li class="flex flex-wrap group-navigation mt-4">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/reference/framework-specific-integrations"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center ">
					Framework-specific integrations
				</a>
					<label for="117A9950" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="117A9950"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/react-integration"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				React integration
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/angular-integration"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Angular integration
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/vue-integration"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Vue integration
			</a>
		</li>
				</ul>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/distributed-tracing"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Distributed tracing
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/breakdown-metrics"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Breakdown metrics
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/opentracing"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				OpenTracing
			</a>
		</li>
		<li class="flex flex-wrap group-navigation mt-4">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/reference/advanced-topics"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center ">
					Advanced topics
				</a>
					<label for="2604054B" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="2604054B"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/longtasks"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				How to interpret long task spans in the UI
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/typescript"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Using with TypeScript
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/custom-transaction-name"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Custom page load transaction names
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/custom-transactions"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Custom Transactions
			</a>
		</li>
				</ul>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/performance-tuning"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Performance tuning
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/upgrading"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Upgrading
			</a>
		</li>
				</ul>
		</li>
		<li class="flex flex-wrap group-navigation mt-6">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/release-notes/"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center font-semibold">
					Elastic APM Real User Monitoring JavaScript Agent
				</a>
					<label for="BA03D554" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="BA03D554"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/release-notes/known-issues"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Known issues
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/release-notes/breaking-changes"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Breaking changes
			</a>
		</li>
				</ul>
		</li>

		</ul>
</div>

	</nav>
	<label role="button" for="pages-nav-hamburger" class="absolute md:hidden top-7 -right-12 bg-white p-1 rounded-full border-1 border-grey-20 cursor-pointer z-99">
		<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
			<path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
		</svg>
	</label>
</aside>
<label for="pages-nav-hamburger" aria-hidden="true" class="hidden group-has-[#pages-nav-hamburger:checked]/body:block md:hidden! fixed top-0 left-0 right-0 bottom-0 bg-black/50 z-30 ">
	
</label>

			<div class="lg:grid lg:grid-cols-[1fr_var(--max-sidebar-width)]">
				<aside class="sidebar md:block w-full lg:max-w-65 md:order-2 px-6 md:px-10 lg:px-0">
	<nav id="toc-nav" class="sidebar-nav lg:h-full flex flex-row-reverse lg:block items-center gap-4">
		<div class="mt-6">
			<version-dropdown current-version='9.0&#x2B;' items='[]'>
				<div class="h-8"></div>
			</version-dropdown>
		</div>
		<ul class="mt-6 hidden md:flex items-center lg:block gap-4">
			<li class="view-as-markdown lg:not-first:mt-1">
				<a href="/release-notes/breaking-changes.md" class="link text-sm" target="_blank">
					<svg class="link-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 -1 24 24">
						<path fill="currentColor" d="M22.131725 19.247H1.9386225C1.0239525 19.247 0.25 18.47305 0.25 17.558375v-11.11675c0 -0.914675 0.7739525 -1.688625 1.6886225 -1.688625H22.061375c0.914675 0 1.688625 0.77395 1.688625 1.688625v11.11675c0 0.914675 -0.7036 1.688625 -1.618275 1.688625ZM1.9386225 5.87875c-0.2814375 0 -0.562875 0.281425 -0.562875 0.562875v11.11675c0 0.3518 0.2814375 0.562875 0.562875 0.562875H22.061375c0.3518 0 0.562875 -0.281425 0.562875 -0.562875v-11.11675c0 -0.3518 -0.281425 -0.562875 -0.562875 -0.562875l-20.1227525 0ZM3.62725 15.86975V8.130225h2.2515l2.2515 2.814375 2.251475 -2.814375h2.2515V15.86975h-2.2515V11.437125L8.13025 14.2515l-2.2515 -2.814375V15.86975h-2.2515Zm14.1422 0L14.392225 12.140725h2.251475v-4.0105h2.2515v3.940125h2.2515L17.76945 15.86975Z" stroke-width="0.25"></path>
					</svg>
					View as markdown
				</a>
			</li>
				<li class="edit-this-page lg:not-first:mt-1 ">
					<a href="https://github.com/elastic/apm-agent-rum-js/edit/add-applies-to/docs/release-notes/breaking-changes.md" class="link text-sm" target="_blank">
						<svg class="link-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"/>
						</svg>
						Edit this page
					</a>
				</li>
			<li class="report-an-issue lg:not-first:mt-1">
				<a href="https://github.com/elastic/docs-content/issues/new?template=issue-report.yaml&amp;link=https://docs-v3-preview.elastic.dev/release-notes/breaking-changes&amp;labels=source:web" class="link text-sm" target="_blank">
					<svg class="link-icon" viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="currentColor"/>
					</svg>
					Report an issue
				</a>
			</li>
		</ul>
		<div class="pt-6 hidden lg:block">
				<div>
					<div class="font-bold mb-2">On this page</div>
					<div class="relative toc-progress-container font-body">
						<div class="toc-progress-indicator absolute top-0 h-0 w-[1px] bg-blue-elastic transition-all duration-200 ease-out "></div>
						<ul class="block w-full">
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#elastic-apm-real-user-monitoring-javascript-agent-5150-breaking-changes">
										5.15.0
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#elastic-apm-real-user-monitoring-javascript-agent-5130-breaking-changes">
										5.13.0
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#elastic-apm-real-user-monitoring-javascript-agent-500-breaking-changes">
										5.0.0
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#global-labels-are-only-added-to-metadata-to-improve-payload-size">
										Global labels are only added to metadata to improve payload size
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#labels-now-accept-boolean-and-number-types">
										Labels now accept Boolean and Number types
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#agent-name-changed-to-rum-js">
										Agent name changed to rum-js
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#official-w3c-tracecontext-support">
										Official W3C tracecontext support
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#addtags-replaced-with-addlabels">
										addTags replaced with `addLabels
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#single-queue-processing">
										Single queue processing
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#v5-upgrade-steps">
										Upgrade steps
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#v5-upgrade-server">
										Upgrade APM Server
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#v5-upgrade-agents">
										Upgrade backend agents
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#v5-update-rum-agent">
										Upgrade the RUM agent
									</a>
								</li>
						</ul>
					</div>
				</div>

		</div>

	</nav>
</aside>

				<div class="justify-center grid
						grid-cols-1
						px-6 lg:px-0
						lg:grid-cols-[1fr_var(--max-text-width)_1fr]
						lg:order-1
						">
					<div class="spacer"></div>
					<main id="content-container" class="w-full flex flex-col relative pb-30 overflow-x-hidden">
						<div class="w-full absolute top-0 left-0 right-0 htmx-indicator" id="htmx-indicator" role="status">
							<div class="h-[2px] w-full overflow-hidden">
								<div class="progress w-full h-full bg-pink-70 left-right"></div>
							</div>
							<div class="sr-only">Loading</div>
						</div>
						<div class="content-container md:px-4">
							
<ol id="breadcrumbs" class="block items-center w-full py-6" itemscope="" itemtype="https://schema.org/BreadcrumbList">
		<li class="inline text-ink-light text-sm leading-[1.2em]" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem">
			<a
				hx-disable="true"
				itemprop="item"
				href="/release-notes/"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
			>
				<span itemprop="name" class="hover:text-black">Elastic APM Real User Monitoring JavaScript Agent</span>
			</a>
			<meta itemprop="position" content="1">
		</li>
	
	<li class="inline text-ink-light text-sm leading-[1.2em]" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem">
		<span class="px-1">/</span>
	</li>
</ol>

						</div>
						
						<article id="markdown-content" class="content-container markdown-content md:px-4">
							<input type="checkbox" class="hidden" id="pages-nav-hamburger">
							<section id="elastic-docs-v3">
	<h1>Elastic APM Real User Monitoring JavaScript Agent breaking changes</h1>

		<p class="applies applies-block">
		

			<span class="applicable-info" data-tippy-content="Available on Elastic&nbsp;Stack unless otherwise specified.

If this functionality is unavailable or behaves differently when deployed on ECH, ECE, ECK, or a self-managed installation, it will be indicated on the page.">
				<span class="applicable-name">Stack</span>


				<span class="applicable-meta applicable-meta-ga">
				</span>
			</span>
			<span class="applicable-info" data-tippy-content="Not available on Elastic&nbsp;Cloud&nbsp;Serverless unless otherwise specified.">
				<span class="applicable-name">Serverless</span>


					<span class="applicable-separator"></span>
				<span class="applicable-meta applicable-meta-unavailable">
						<span
							class="applicable-lifecycle applicable-lifecycle-unavailable">Unavailable</span>
				</span>
			</span>
			<span class="applicable-info" data-tippy-content="Available on Application&nbsp;Performance&nbsp;Monitoring Agent for Real&nbsp;User&nbsp;Monitoring unless otherwise specified.">
				<span class="applicable-name">APM Agent RUM</span>


				<span class="applicable-meta applicable-meta-ga">
				</span>
			</span>



		</p>
	<p>Before you upgrade, carefully review the Elastic APM Real User Monitoring JavaScript Agent breaking changes and take the necessary steps to mitigate any issues.</p>
<div class="heading-wrapper" id="elastic-apm-real-user-monitoring-javascript-agent-5150-breaking-changes"><h2><a class="headerlink" href="#elastic-apm-real-user-monitoring-javascript-agent-5150-breaking-changes">5.15.0</a></h2>
</div>
<p><strong>Release date:</strong> September 27, 2023</p>
<p>Previously, there was a start time discrepancy between sampled and unsampled page load transactions, which was wrong. From now on, the agent will set the same start time for both of them.
Custom dashboards built using the page load duration will see an effect with the solution.</p>
<p>For more information, check <a href="https://github.com/elastic/apm-agent-rum-js/pull/1435" target="_blank" rel="noopener noreferrer">#1435</a>.</p>
<div class="heading-wrapper" id="elastic-apm-real-user-monitoring-javascript-agent-5130-breaking-changes"><h2><a class="headerlink" href="#elastic-apm-real-user-monitoring-javascript-agent-5130-breaking-changes">5.13.0</a></h2>
</div>
<p><strong>Release date:</strong> July 19, 2023</p>
<ul>
<li>Previously, breakdown timings were reported as milliseconds values in the <code>span.self_time.sum.us field</code>, which was wrong. From now on, it will be reported as microsecond values to match the APM specification. For more information, check <a href="https://github.com/elastic/apm-agent-rum-js/pull/1381" target="_blank" rel="noopener noreferrer">#1381</a>.</li>
<li>The metrics <code>transaction.duration.sum.us</code>, <code>transaction.duration.count</code> and <code>transaction.breakdown.count</code> are no longer recorded. For more information, check <a href="https://github.com/elastic/apm-agent-rum-js/pull/1382" target="_blank" rel="noopener noreferrer">#1382</a>.</li>
</ul>
<div class="heading-wrapper" id="elastic-apm-real-user-monitoring-javascript-agent-500-breaking-changes"><h2><a class="headerlink" href="#elastic-apm-real-user-monitoring-javascript-agent-500-breaking-changes">5.0.0</a></h2>
</div>
<p><strong>Release date:</strong> March 18, 2020</p>
<p>Upgrading from version <code>4.x</code> to <code>5.x</code> of the RUM Agent introduces some breaking changes.</p>
<div class="heading-wrapper" id="global-labels-are-only-added-to-metadata-to-improve-payload-size"><h3><a class="headerlink" href="#global-labels-are-only-added-to-metadata-to-improve-payload-size">Global labels are only added to metadata to improve payload size</a></h3>
</div>
<p>For more information, check <a href="https://github.com/elastic/apm-agent-rum-js/issues/618" target="_blank" rel="noopener noreferrer">#618</a>.</p>
<div class="heading-wrapper" id="labels-now-accept-boolean-and-number-types"><h3><a class="headerlink" href="#labels-now-accept-boolean-and-number-types">Labels now accept Boolean and Number types</a></h3>
</div>
<p>For more information, check <a href="https://github.com/elastic/apm-agent-rum-js/issues/272" target="_blank" rel="noopener noreferrer">#272</a>.</p>
<div class="heading-wrapper" id="agent-name-changed-to-rum-js"><h3><a class="headerlink" href="#agent-name-changed-to-rum-js">Agent name changed to <code>rum-js</code></a></h3>
</div>
<p>The Agent name has been changed to <code>rum-js</code>. Because older versions of the APM app in Kibana don’t recognize this new name, you may need to upgrade your Elastic stack version.</p>
<p>For more information, check <a href="https://github.com/elastic/apm-agent-rum-js/issues/379" target="_blank" rel="noopener noreferrer">#379</a>.</p>
<div class="heading-wrapper" id="official-w3c-tracecontext-support"><h3><a class="headerlink" href="#official-w3c-tracecontext-support">Official W3C tracecontext support</a></h3>
</div>
<p>The RUM Agent supports the official W3C tracecontext <code>traceparent</code> header, instead of the previously used <code>elastic-apm-traceparent</code> header. If you’re using Elastic backend agents, you must upgrade them to a version that also supports the official W3C tracecontext headers.</p>
<p>For more information, check <a href="https://github.com/elastic/apm-agent-rum-js/issues/477" target="_blank" rel="noopener noreferrer">#477</a>.</p>
<div class="heading-wrapper" id="addtags-replaced-with-addlabels"><h3><a class="headerlink" href="#addtags-replaced-with-addlabels"><code>addTags</code> replaced with `addLabels</a></h3>
</div>
<p><code>addTags</code>, which was deprecated in version <code>4.1</code>, has been removed and replaced with <code>addLabels</code>, which supports strings, booleans, and numbers:</p>
<ul>
<li><code>apm.addTags()</code> removed in favor of <a href="/reference/agent-api#apm-add-labels" hx-select-oob="#main-container" preload="mousedown"><code>apm.addLabels()</code></a>.</li>
<li><code>span.addTags()</code> removed in favor of <a href="/reference/span-api#span-add-labels" hx-select-oob="#main-container" preload="mousedown"><code>span.addLabels()</code></a>.</li>
<li><code>transaction.addTags()</code> removed in favor of <a href="/reference/transaction-api#transaction-add-labels" hx-select-oob="#main-container" preload="mousedown"><code>transaction.addLabels()</code></a>.</li>
</ul>
<p>For more information, check <a href="https://github.com/elastic/apm-agent-rum-js/issues/215" target="_blank" rel="noopener noreferrer">#215</a>.</p>
<div class="heading-wrapper" id="single-queue-processing"><h3><a class="headerlink" href="#single-queue-processing">Single queue processing</a></h3>
</div>
<p>A single queue is now used to process all events (transactions, errors, etc.). This change allows the consolidation of four configuration options into one:</p>
<p>Removed options:</p>
<ul>
<li><code>errorThrottleLimit</code></li>
<li><code>errorThrottleInterval</code></li>
<li><code>transactionThrottleLimit</code></li>
<li><code>transactionThrottleInterval</code></li>
</ul>
<p>Added option:</p>
<ul>
<li><a href="/reference/configuration#events-limit" hx-select-oob="#main-container" preload="mousedown"><code>eventsLimit</code></a> — Configure the number of events sent to APM Server per minute. Defaults to <code>80</code>.</li>
</ul>
<p>For more information, check <a href="https://github.com/elastic/apm-agent-rum-js/issues/628" target="_blank" rel="noopener noreferrer">#628</a>.</p>
<div class="heading-wrapper" id="v5-upgrade-steps"><h2><a class="headerlink" href="#v5-upgrade-steps">Upgrade steps</a></h2>
</div>
<div class="heading-wrapper" id="v5-upgrade-server"><h3><a class="headerlink" href="#v5-upgrade-server">Upgrade APM Server</a></h3>
</div>
<p>Version <code>5.x</code> of the RUM Agent requires APM Server version &gt;= <code>7.0</code>. The <a href="https://www.elastic.co/guide/en/apm/guide/7.17/upgrading-to-70.html" target="_blank" rel="noopener noreferrer">APM Server <code>7.0</code> upgrade guide</a> can help with the upgrade process.</p>
<div class="admonition note">
	<div class="admonition-title">
		
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
						<path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
					</svg>
		<span>Note</span>
	</div>
	<div class="admonition-content"><p>APM Server version &gt;= <code>7.0</code> requires Elasticsearch and Kibana versions &gt;= <code>7.0</code> as well.</p>
</div>
</div>
<div class="heading-wrapper" id="v5-upgrade-agents"><h3><a class="headerlink" href="#v5-upgrade-agents">Upgrade backend agents</a></h3>
</div>
<p>All Elastic APM agents have been upgraded to support the changes in the RUM Agent. You must upgrade your backend agents to the minimum versions listed below for all features to work:</p>
<div class="table-wrapper">
<table>
<thead>
<tr>
<th>Agent name</th>
<th>Agent Version</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Go Agent</strong></td>
<td>&gt;= <code>1.6</code></td>
</tr>
<tr>
<td><strong>Java Agent</strong></td>
<td>&gt;= <code>1.14</code></td>
</tr>
<tr>
<td><strong>.NET Agent</strong></td>
<td>&gt;= <code>1.3</code></td>
</tr>
<tr>
<td><strong>Node.js Agent</strong></td>
<td>&gt;= <code>3.4</code></td>
</tr>
<tr>
<td><strong>Python Agent</strong></td>
<td>&gt;= <code>5.4</code></td>
</tr>
<tr>
<td><strong>Ruby Agent</strong></td>
<td>&gt;= <code>3.5</code></td>
</tr>
</tbody>
</table>
</div><div class="heading-wrapper" id="v5-update-rum-agent"><h3><a class="headerlink" href="#v5-update-rum-agent">Upgrade the RUM agent</a></h3>
</div>
<p>Update or download the latest version of the RUM Agent using your <a href="/reference/install-agent" hx-select-oob="#main-container" preload="mousedown">preferred installation method</a>.</p>
<p>If your old configuration used one of the removed config options (listed below), update your configuration to use the new config options instead.</p>
<p>Removed configurations:</p>
<ul>
<li><code>errorThrottleLimit</code> removed in favor of <a href="/reference/configuration#events-limit" hx-select-oob="#main-container" preload="mousedown"><code>eventsLimit</code></a>.</li>
<li><code>errorThrottleInterval</code> removed in favor of <a href="/reference/configuration#events-limit" hx-select-oob="#main-container" preload="mousedown"><code>eventsLimit</code></a>.</li>
<li><code>transactionThrottleLimit</code> removed in favor of <a href="/reference/configuration#events-limit" hx-select-oob="#main-container" preload="mousedown"><code>eventsLimit</code></a>.</li>
<li><code>transactionThrottleInterval</code> removed in favor of <a href="/reference/configuration#events-limit" hx-select-oob="#main-container" preload="mousedown"><code>eventsLimit</code></a>.</li>
<li><code>apm.addTags()</code> removed in favor of <a href="/reference/agent-api#apm-add-labels" hx-select-oob="#main-container" preload="mousedown"><code>apm.addLabels()</code></a>.</li>
<li><code>span.addTags()</code> removed in favor of <a href="/reference/span-api#span-add-labels" hx-select-oob="#main-container" preload="mousedown"><code>span.addLabels()</code></a>.</li>
<li><code>transaction.addTags()</code> removed in favor of <a href="/reference/transaction-api#transaction-add-labels" hx-select-oob="#main-container" preload="mousedown"><code>transaction.addLabels()</code></a>.</li>
</ul>

</section>

						</article>
						<footer id="prev-next-nav" class="content-container mt-20 px-4">
	<div class="flex flex-wrap lg:flex-nowrap gap-2 mt-2">
		<div class="w-full">
				<a 
					href="/release-notes/known-issues"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="flex h-full items-center text-ink-light hover:black border-1 border-grey-20 hover:border-grey-80 rounded-lg p-6 shadow-md"
				>
					<svg class="size-6 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5"/>
					</svg>
					<div>
						<div class="text-xs lg:text-sm">Previous</div>
						<div class="text-base lg:text-xl text-black">Known issues</div>
					</div>
				</a>
		</div>
		<div class="w-full">
		</div>
	</div>
</footer>

					</main>
					<div class="spacer"></div>
				</div>
			</div>
		</div>

</div>

<footer class="py-12 px-6 w-full mx-auto bg-ink-dark">
	<div class="max-w-(--max-layout-width) w-full mx-auto">
	<div class="text-grey-20 text-[12px]">
		<a href="https://www.elastic.co/">
			<img class="block" loading="lazy" alt="Elastic logo" src="/_static/logo-elastic-horizontal-white.svg?v=19bc4040eda89518" width="120" height="41"/>
		</a>
	</div>
	<div class="text-grey-20 text-[12px] bg-ink-dark grid grid-cols-1 md:grid-cols-2 gap-2 items-center">
		<div>
			<ul class="mt-4 flex gap-3">
				<li>
					<a class="underline hover:text-white" href="https://www.elastic.co/legal/trademarks">Trademarks</a>
				</li>
				<li>
					<a class="underline hover:text-white" href="https://www.elastic.co/legal/terms-of-use">Terms of Use</a>
				</li>
				<li>
					<a class="underline hover:text-white" href="https://www.elastic.co/legal/privacy-statement">Privacy</a>
				</li>
				<li>
					<a class="underline hover:text-white" href="https://www.elastic.co/sitemap">Sitemap</a>
				</li>
			</ul>
			<p class="mt-4">
				© 2025 Elasticsearch B.V. All Rights Reserved.
			</p>
		</div>
		<div class="mt-4">
			<p>
				This content is available in different formats for convenience only. All original licensing terms apply.
			</p>
			<p class="mt-4">
				Elasticsearch is a trademark of Elasticsearch B.V., registered in the U.S. and in other countries. Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the Apache Software Foundation in the United States and/or other countries. 
			</p>
		</div>
	</div>
	</div>
</footer>


</body>
</html>
